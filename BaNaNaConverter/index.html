<!doctype html>
<html>
	<head>
		<title>BaNaNa Converter</title>
		<link rel="stylesheet" href="../css/style.css">
		<style>
			#pile-container {
   				width: 400px;
    			height: 300px;
    			border: 2px solid #aaa;
    			background: #f0e68c;
    			position: relative;
    			overflow: hidden;
				border-radius: 10px;
				margin-top: 20px;
			}
			.banana {
   				font-size: 30px; /* makes the emoji big */
    			position: absolute;
    			left: 0;
    			top: 0;
    			transition: all 1s ease-in; /* we'll animate left and top */
				animation: sway 2s infinite;
    			filter: drop-shadow(2px 2px 2px rgba(0,0,0,0.3));
			}
			@keyframes sway {
				0% { transform: rotate(0deg); }
				25% { transform: rotate(8deg); }
				75% { transform: rotate(-8deg); }
				100% { transform: rotate(0deg); }
			}
		</style>
	</head>
	<body>
		<h1>BaNaNa Converter</h1>
		<input type="number" id="t_meter" placeholder="Enter meters">
		<button onclick="calculate()">Convert</button>
		<p>Result: <span id="result"></span></p>

		<div id="pile-container"></div>
			
		<script>
			function calculate() {
				let m = parseFloat(document.getElementById('t_meter').value);
				let resultSpan = document.getElementById('result');
				resultSpan.classList.remove('error');
				
				if (isNaN(m)) {
					resultSpan.innerText = "Please, enter a valid number";
					resultSpan.classList.add('error');
					return;		
				}
				let b = m / 0.13;
				resultSpan.innerText = b.toFixed(2);
				
				dropBananas(Math.floor(b));
			}
			
			function dropBananas(count) {
    			const pile = document.getElementById('pile-container');
    			pile.innerHTML = ''; // clear previous bananas

    			for (let i = 0; i < count; i++) {
        			const banana = document.createElement('div');
        			banana.className = 'banana';
       				banana.textContent = 'ðŸŒ';

        // Random target in pile (with some variation for pile effect)
        			const maxLeft = pile.clientWidth - 30; // adjust for emoji size
        			const startX = Math.random() * maxLeft; // near bottom

        // Set initial position (at DK)
        			banana.style.left = startX + 'px';
        			banana.style.top = '-30px';

					const maxTop = pile.clientHeight - 30;
					const targetY = maxTop - Math.random()*20;

					const targetX = startX;

					const duration = 0.8 + Math.random() * 1.2;
					banana.style.transition = 'left ${duration}s ease-in, top ${duration}s ease-in';
					
        			pile.appendChild(banana);

        // Force a reflow to ensure starting position is applied
        			banana.getBoundingClientRect();

        // Animate to target
        			banana.style.left = targetX + 'px';
        			banana.style.top = targetY + 'px';
				}
			}
		</script>
	</body>
</html>













